<div xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:nxthemes="http://nuxeo.org/nxthemes"
  xmlns:s="http://jboss.com/products/seam/taglib"
  xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
  xmlns:rich="http://richfaces.org/rich">


    <rich:modalPanel id="importFile" autosized="true"
    onmaskclick="Richfaces.hideModalPanel('importFile')">
    
    
    <f:facet name="header">
      <h:outputText value="#{messages['title.create.file']}"/>
    </f:facet>

    <f:facet name="controls">
      <h:panelGroup>
        <h:graphicImage value="/icons/action_delete_mini.gif"
          id="hideImportFilePanel" />
        <rich:componentControl for="importFile"
          attachTo="hideImportFilePanel" operation="hide" event="onclick" />
      </h:panelGroup>
    </f:facet>
    
    
    <div id="content">
    <h3 onclick="testAddFileFromPlugin()"><h:outputText
        value="#{messages['label.selectFileToImport']}"/></h3>
      <h:form enctype="multipart/form-data" id="importFileRichUploadForm">

        <rich:fileUpload fileUploadListener="#{FileManageActions.processUpload}"
                maxFilesQuantity="1"
                listHeight="60"
                immediateUpload="true"
                locale="#{localeSelector.localeString}"
                id="upload">
	      <a4j:support  onsubmit="Seam.Component.getInstance('FileManageActions').removeSingleUploadedFile();" event="onclear"/>  
        </rich:fileUpload>
        
        <h:commandButton class="button"
          value="#{messages['command.upload']}"
          action="#{FileManageActions.validate}" />
        <h:commandButton class="button"
          value="#{messages['command.cancel']}"
          action="#{navigationContext.goBack()}" immediate="true" />
      </h:form>
    </div>
    
  </rich:modalPanel>
</div>