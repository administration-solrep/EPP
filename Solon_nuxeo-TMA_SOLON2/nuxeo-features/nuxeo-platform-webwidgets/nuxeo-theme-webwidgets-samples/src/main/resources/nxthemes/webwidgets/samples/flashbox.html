<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:widget="http://www.netvibes.com/ns/">
<head>

<title>Flash box</title>

<meta name="author" content="Author name" />
<meta name="version" content="0.0.1" />

<widget:preferences>
  <preference name="src" type="file" label="Flash file" defaultValue="" />
  <preference name="width" type="text" label="Width" defaultValue="" />
  <preference name="height" type="text" label="Height" defaultValue="" />
</widget:preferences>

<script type="text/javascript">
var FlashBox = {}

FlashBox.display = function() {
  var embed = widget.createElement('embed');
  var src = widget.getValue('src');
  var width = widget.getValue('width');
  var height = widget.getValue('height');
  embed.type = 'application/x-shockwave-flash';

  if (src) {
    embed.src = NXThemesWebWidgets.getWidgetDataUrl(src);
    if (width) {
      embed.width = width;
    }
    if (height) {
      embed.height = height;
    }
    widget.setBody(embed);
  } else {
    widget.setBody('<p>Please upload a flash file.</p>');
  }
}

widget.onLoad = function() {
  FlashBox.display();
}

widget.onRefresh = widget.onLoad;

</script>

</head>
<body>
</body>
</html>
