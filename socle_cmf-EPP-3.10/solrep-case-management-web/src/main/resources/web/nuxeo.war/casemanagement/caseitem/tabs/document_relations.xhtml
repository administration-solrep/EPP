<div xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:fn="http://java.sun.com/jsp/jstl/functions"
  xmlns:nxd="http://nuxeo.org/nxweb/document"
  xmlns:nxdir="http://nuxeo.org/nxdirectory"
  xmlns:nxu="http://nuxeo.org/nxweb/util">

  <h:outputText value="#{messages['label.relation.noRelation']}"
      rendered="#{(empty cmRelationActions.outgoingStatementsInfo)
      and (empty cmRelationActions.incomingStatementsInfo)}"/>

  <c:if test="#{nxd:hasPermission(currentDocument, 'Write')}">
    <ui:include src="create_relation.xhtml" />
  </c:if>

<script type="text/javascript">
  function toggleLayers(more_block, more_items) {
    var objMoreBlock = document.getElementById(more_block).style;
    var objMoreItems = document.getElementById(more_items).style;
    if(objMoreBlock.display == "block")
      objMoreBlock.display = "none";
    if(objMoreItems.display == "none")
      objMoreItems.display = "block";
  }
</script>

<h:form rendered="#{not empty cmRelationActions.outgoingStatementsInfo}">

  <h3><h:outputText value="#{messages['title.relation.outgoing']}" /></h3>

   <nxu:set var="documents"  value="#{cmRelationActions.outgoingStatementsInfoSelectModel}" >
    <ui:decorate template="/incl/documents_layout_table.xhtml">
     <ui:param name="documents" value="#{documents}" />
     <ui:param name="showCheckboxes" value="#{true}" />
     <ui:param name="listName" value="CURRENT_SELECTION" />
     <ui:param name="layoutName" value="cm_outgoing_relations" />
    </ui:decorate>
   </nxu:set>

</h:form>

<h:form rendered="#{not empty cmRelationActions.incomingStatementsInfo}">

  <h3><h:outputText value="#{messages['title.relation.incoming']}" /></h3>

   <nxu:set var="documents"  value="#{cmRelationActions.incomingStatementsInfoSelectModel}" >
    <ui:decorate template="/incl/documents_layout_table.xhtml">
     <ui:param name="documents" value="#{documents}" />
     <ui:param name="showCheckboxes" value="#{true}" />
     <ui:param name="listName" value="CURRENT_SELECTION" />
     <ui:param name="layoutName" value="cm_incoming_relations" />
    </ui:decorate>
   </nxu:set>
</h:form>

</div>